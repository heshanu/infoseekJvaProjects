package jdbc.main;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.List;

import jdbc.dto.BankDTO;
import jdbc.service.BankService;
import jdbc.util.JDBCUtil;

public class MainClass {
	// Connection connection;
	public static void main(String[] args) {
		BankDTO bank1 = new BankDTO();
		bank1.setBankid(1L);
		bank1.setCode("BOC");
		bank1.setName("bank of ceylon");
		bank1.setStatus("I");

		try {
			BankService.createBank(bank1);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	public static void updateBank(BankDTO bankdto) {
		Connection connection=null;
		PreparedStatement preset=null;
		
		String updateSql="Update banks set bankcode=?,bankname=?,status=? where bankId=? ";
		connection =JDBCUtil.getConnection();
		
		try {
			preset=connection.prepareStatement(updateSql);
			preset.setString(1, bankdto.getCode());
			preset.setString(2, bankdto.getName());
			preset.setString(3, bankdto.getStatus());
			preset.setLong(4, bankdto.getBankid());
			
			int returnV=preset.executeUpdate();
			
			
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}finally {
			try {
				connection.close();
				preset.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
		}
	}

	public static void deleteBank() {
	}

	public static List<BankDTO> getAllBanka() {
		return null;
	}

	public static List<BankDTO> getBanksByStatus(long bankId) {
		return null;
	}

}
